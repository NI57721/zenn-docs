---
title: "Goで実装しながら学ぶGitの基本"
emoji: "🔨"
type: "tech"
topics: ["git", "github", "go"]
published: false
---
# はじめに
この記事では Git を基本的な機能を Go で実装していきながら、Git のデータ構造や Git オブジェクトについて説明します。
基本を理解した上で、hoge や hoge の実装をするのが記事のゴールです。
:::message
hoge
最小の機能を都度作成していく旨
実際の実装とは違う旨
:::

# git-init - リポジトリの初期化
千のリポジトリも初期化から。まずは`git init`を見ていきましょう。
空のディレクトリで`git init`を実行すると以下のようなファイルが作成されます。[^init-files]
```shell
$ tree . -aL 2
.
└── .git
    ├── config
    ├── description
    ├── HEAD
    ├── hooks
    ├── info
    ├── objects
    └── refs
```

Git が保管・操作する対象のほとんどははこの`.git`以下にあります。
そして Git の中核を担うのが`HEAD`ファイル、`index`ファイル(まだ作成されていません)、`objects`ディレクトリ、`refs`ディレクトリです。
`HEAD`ファイルには現在チェックアウトしているブランチが書かれています。
`index`ファイル

今回は以下の 4 つの

`description`ファイルは、GitWeb というウェブ・ベースで Git のファイルを閲覧する為の CGI スクリプトで使用するものです。
`config`ファイルにはプロジェクト固有の設定があります。
`info`ディレクトリには、グローバルレベルの除外設定ファイルが格納されます。
`hooks`ディレクトリには、クライアントサイドやサーバーサイドのフックスクリプトが格納されます。
以上については、今回は実装を割愛します。

そして、重要なのは残りの4項目です。具体的には、 HEAD ファイル、 index ファイル（まだ作成されていない）、 objects ディレクトリ、 refs ディレクトリです。 これらがGitの中核部分になります。
objects ディレクトリにはデータベースのすべてのコンテンツが保管されます。
refs ディレクトリには、それらコンテンツ内のコミットオブジェクトを指すポインタ（ブランチ）が保管されます。
HEAD ファイルは、現在チェックアウトしているブランチを指します。
index ファイルには、Git がステージングエリアの情報を保管します。 以降の各セクションでは、Git がどのような仕組みで動くのかを詳細に見ていきます。

## git init - まずは初期化から

## 参考文献
[Git - 配管（Plumbing）と磁器（Porcelain）](https://git-scm.com/book/ja/v2/Git%E3%81%AE%E5%86%85%E5%81%B4-%E9%85%8D%E7%AE%A1%EF%BC%88Plumbing%EF%BC%89%E3%81%A8%E7%A3%81%E5%99%A8%EF%BC%88Porcelain%EF%BC%89)
------
[^init-files]: 環境に依っては上記のもの以外のファイルが作成される場合もあります。

